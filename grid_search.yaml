# config.yaml
program: grid_search.py
method: random
name: search
metric:
  goal: maximize
  name: mean_accuracy
parameters:
  root: 
    value: "/nobackup3/yiwei/data/"
  seed:
    value: 10
  trainer:
    value: IVLP
  config-file:
    value: "configs/trainers/IVLP/vit_b16_c2_ep10_batch8_4+4ctx.yaml"
  output-dir:
    value: "/nobackup3/yiwei/wandb/grid_search_loss_2"
  num-shots:
    value: 16
  subsample-classes:
    value: "base"
  dataset-config-file:
    distribution: categorical
    values: 
    - "configs/datasets/dtd.yaml"
    - "configs/datasets/eurosat.yaml"
    - "configs/datasets/fgvc_aircraft.yaml"
    - "configs/datasets/oxford_pets.yaml"
    - "configs/datasets/sun397.yaml"
    - "configs/datasets/food101.yaml"
  batch-size: 
    values: [8, 16]
  # n-ins:
  #   value: 4
  lr:
    min: 0.001
    max: 0.01
  epochs:
    value: 10
  visual-weight:
    value: 0.0
  visual-loss:
    distribution: categorical
    values: 
    - "multi_similarity_loss"
    # - "multi_similarity_loss_miner"
    # - "NTXent_loss"
  n-ctx-vision:
    values: [4, 8, 16]
  n-ctx-text:
    value: 4
  prompt-depth-vision:
    value: 1
  prompt-depth-text:
    value: 1